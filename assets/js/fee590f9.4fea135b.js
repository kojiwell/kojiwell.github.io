"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1270],{1804:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var s=n(4848),o=n(8453);const i={slug:"2023-04-28-bits-and-pieces",title:"2023-04-28 Bits and pieces here and there",authors:"kojiwell",tags:["misc"]},r=void 0,a={permalink:"/blog/2023-04-28-bits-and-pieces",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-04-28-unsorted-notes.md",source:"@site/blog/2023-04-28-unsorted-notes.md",title:"2023-04-28 Bits and pieces here and there",description:"Les Davis",date:"2023-04-28T00:00:00.000Z",formattedDate:"April 28, 2023",tags:[{label:"misc",permalink:"/blog/tags/misc"}],readingTime:1.955,hasTruncateMarker:!1,authors:[{name:"Koji Tanaka",title:"System Engineer",url:"https://github.com/kojiwell",imageURL:"https://github.com/kojiwell.png",key:"kojiwell"}],frontMatter:{slug:"2023-04-28-bits-and-pieces",title:"2023-04-28 Bits and pieces here and there",authors:"kojiwell",tags:["misc"]},unlisted:!1,prevItem:{title:"2023-05-13 Bits and pieces here and there",permalink:"/blog/2023-05-13-bits-and-pieces"},nextItem:{title:"Install Lustre on Multiple CentOS 7 Machines",permalink:"/blog/2018-02-27-lustre-on-centos72"}},d={authorsImageUrls:[void 0]},c=[{value:"Les Davis",id:"les-davis",level:2},{value:"Potato vs sweet potato",id:"potato-vs-sweet-potato",level:2},{value:"dsmc",id:"dsmc",level:2},{value:"find",id:"find",level:2},{value:"git",id:"git",level:2},{value:"rsync",id:"rsync",level:2},{value:"sed",id:"sed",level:2},{value:"sinfo",id:"sinfo",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"les-davis",children:"Les Davis"}),"\n",(0,s.jsx)(t.p,{children:'"Seymour thought them up, and Les made them work," said former Cray CEO Rollwagen.'}),"\n",(0,s.jsx)(t.p,{children:"Seymour Cray is the pioneer, the genius, and the name of Cray Research, Inc. However, the engineer who has guided the company to keep producing successful supercomputers for years in the risky high-tech industry is Les Davis. He is the ultimate team builder who knows how to bring all the talent together to create excellent supercomputers."}),"\n",(0,s.jsxs)(t.p,{children:["Open ",(0,s.jsx)(t.a,{href:"https://cray-history.net/wp-content/uploads/2021/08/TheUltimateTeamPlayerLesDavid.pdf",children:"this link for more about the interesting supercomputer history (PDF)"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"potato-vs-sweet-potato",children:"Potato vs sweet potato"}),"\n",(0,s.jsx)(t.p,{children:"Potato is a stem, and sweet potato is a root. Potato has eyes which develop into shoots. So potato has to produce poison in itself to protect shoots from bugs, while sweet potato doesn't have to."}),"\n",(0,s.jsx)(t.p,{children:"I see it as a good analogy for career development. If you want to go up the ladder of success, you must develop poison in yourself to protect yourself. If you want to dig deep down into the technical adventure, it's dark and sweet."}),"\n",(0,s.jsx)(t.h2,{id:"dsmc",children:"dsmc"}),"\n",(0,s.jsx)(t.p,{children:"Restore a directory from the backup data on the TSM"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Check if the directory is in the backup data\ndsmc query backup /path/to/dir_a/\n\n# Restore the directory to the current directory\ndsmc restore -inactive -subdir=yes /path/to/dir_a/ $PWD/\n\n# Check the restored directory\ntree $PWD/dir_a\n"})}),"\n",(0,s.jsx)(t.h2,{id:"find",children:"find"}),"\n",(0,s.jsx)(t.p,{children:"Search a file by a case-insensitive keyword"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'find /path/to/dir -type f -iname "*keyword*"\n'})}),"\n",(0,s.jsx)(t.h2,{id:"git",children:"git"}),"\n",(0,s.jsx)(t.p,{children:"Set a different ssh private key for git"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'# In the config of the current git repo\ngit config core.sshCommand "ssh -i /path/to/new-key"\ncat .git/config\n\n# By the encironment variable\nexport GIT_SSH_COMMAND="ssh -i /path/to/new-key"\n'})}),"\n",(0,s.jsx)(t.h2,{id:"rsync",children:"rsync"}),"\n",(0,s.jsxs)(t.p,{children:["Check differences between two directories by the ",(0,s.jsx)(t.code,{children:"--dry-run, -n"})," option"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"rsync -av --dry-run /path/to/dir_a/ /path/to/dir_b\n\n# -n is the same (if you got used to the short expression)\nrsync -avn /path/to/dir_a/ /path/to/dir_b\n"})}),"\n",(0,s.jsx)(t.h2,{id:"sed",children:"sed"}),"\n",(0,s.jsx)(t.p,{children:'Remove the last comma(,) from "host01,host04,host07,"'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"\necho \"host01,host04,host07,\" |sed 's/.$//'\n\n"})}),"\n",(0,s.jsx)(t.h2,{id:"sinfo",children:"sinfo"}),"\n",(0,s.jsx)(t.p,{children:"List the down and drained nodes"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'sinfo  -h -t down,drained -o "%n %E" |sort\n\n# -h, --noheader\n# -t, --states\n# -o, --format\n'})}),"\n",(0,s.jsx)(t.p,{children:'Create the list of drained nodes because of either "Kill task failed" or "batch job complete failure"'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"sinfo -h -t drained -o \"%n %E\" |sort |awk '/Kill task|batch job/ {print $1}' ORS=\",\" |sed 's/.$//'\n"})})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(6540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);